(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return d}));var r=n(2),c=Object(r.b)("contact/fetchContactRequest"),a=Object(r.b)("contact/fetchContactSuccess"),o=Object(r.b)("contact/fetchContactError"),s=Object(r.b)("contact/addContactRequest"),i=Object(r.b)("contact/addContactSuccess"),u=Object(r.b)("contact/addContactError"),b=Object(r.b)("contact/deleteContactRequest"),l=Object(r.b)("contact/deleteContactSuccess"),j=Object(r.b)("contact/deleteContactError"),d=(Object(r.b)("contact/delete"),Object(r.b)("contact/changeFilter"))},20:function(e,t,n){e.exports={Link:"Navigation_Link__1OXeL",LinkActive:"Navigation_LinkActive__1J6xo",Container:"Navigation_Container__KglLo",HeaderTitle:"Navigation_HeaderTitle__2gG3G"}},21:function(e,t,n){e.exports={Link:"AuthNav_Link__1hfAv",LinkActive:"AuthNav_LinkActive__3U2GI",Container:"AuthNav_Container__39KxE",Registration:"AuthNav_Registration__2quf2"}},26:function(e,t,n){e.exports={Container:"UserMenu_Container__3ESTp",UserName:"UserMenu_UserName__2FP6H",LogOutBtn:"UserMenu_LogOutBtn__3nlky",Avatar:"UserMenu_Avatar__1CRo8"}},27:function(e,t,n){"use strict";var r=n(16),c=n.n(r),a=n(25),o=n(18),s=n.n(o),i=n(4),u=n(36);n(57);s.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b=function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e)},l=function(){s.a.defaults.headers.common.Authorization=""};t.a={register:function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.registerRequest()),t.prev=1,t.next=4,s.a.post("/users/signup",e);case 4:r=t.sent,b(r.data.token),n(i.a.registerSuccess(r.data)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),n(i.a.registerError(t.t0.message)),u.b.error("This user is already registered",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.loginRequest()),t.prev=1,t.next=4,s.a.post("/users/login",e);case 4:r=t.sent,b(r.data.token),n(i.a.loginSuccess(r.data)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),n(i.a.loginError(t.t0.message)),u.b.error("Login data is incorrect. Please check data and try again",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(i.a.logoutRequest()),e.prev=1,e.next=4,s.a.post("/users/logout");case 4:l(),t(i.a.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(i.a.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return b(a),t(i.a.getCurrentUserRequest()),e.prev=5,e.next=8,s.a.get("/users/current");case 8:o=e.sent,t(i.a.getCurrentUserSuccess(o.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(i.a.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}}},4:function(e,t,n){"use strict";var r=n(2),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),s=Object(r.b)("auth/loginRequest"),i=Object(r.b)("auth/loginSuccess"),u=Object(r.b)("auth/loginError"),b=Object(r.b)("auth/logoutRequest"),l=Object(r.b)("auth/logoutSuccess"),j=Object(r.b)("auth/logoutError"),d=Object(r.b)("auth/getCurrentUserRequest"),O=Object(r.b)("auth/getCurrentUserSuccess"),p=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:c,registerSuccess:a,registerError:o,loginRequest:s,loginSuccess:i,loginError:u,logoutRequest:b,logoutSuccess:l,logoutError:j,getCurrentUserRequest:d,getCurrentUserSuccess:O,getCurrentUserError:p}},40:function(e,t,n){e.exports={Container:"AppBar_Container__1-XlJ",Header:"AppBar_Header__1jypN"}},53:function(e,t,n){e.exports={Container:"Container_Container__1Wxsa"}},62:function(e,t,n){},88:function(e,t,n){e.exports={Container:"App_Container__2TuT9",HeaderFadeAppear:"App_HeaderFadeAppear__3-1UC",HeaderFadeAppearActive:"App_HeaderFadeAppearActive__aFIFg",ContactListFadeEnter:"App_ContactListFadeEnter__3XO2A",ContactListFadeEnterActive:"App_ContactListFadeEnterActive__2Qh4A",ContactListFadeExit:"App_ContactListFadeExit__14z4_",ContactListFadeExitActive:"App_ContactListFadeExitActive__2jgoc",ContactListFadeAppear:"App_ContactListFadeAppear__1jT-3",ContactListFadeAppearActive:"App_ContactListFadeAppearActive__ThWBg"}},89:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r,c,a,o,s,i,u=n(0),b=n(23),l=n.n(b),j=(n(62),n(41)),d=n(42),O=n(44),p=n(43),h=n(53),g=n.n(h),f=n(1),v=function(e){var t=e.children;return Object(f.jsx)("div",{className:g.a.Container,children:t})},_=n(20),x=n.n(_),C=n(15),m=n(8),A=function(e){return e.auth.isAuthenticated},k=function(e){return e.auth.user.name},L=Object(m.b)((function(e){return{isAuthenticated:A(e)}}),null)((function(e){var t=e.isAuthenticated;return Object(f.jsxs)("nav",{className:x.a.Container,children:[Object(f.jsx)(C.b,{to:"/",exact:!0,className:x.a.Link,activeClassName:x.a.LinkActive,children:Object(f.jsx)("h1",{className:x.a.HeaderTitle,children:"Home"})}),t&&Object(f.jsx)(C.b,{to:"/contacts",exact:!0,className:x.a.Link,activeClassName:x.a.LinkActive,children:Object(f.jsx)("h1",{className:x.a.HeaderTitle,children:"Contacts"})})]})})),E=n.p+"static/media/avatar.e35f672d.svg",N=n(27),y=n(26),S=n.n(y),U={onLogout:N.a.logout},R=Object(m.b)((function(e){return{name:k(e),avatar:E}}),U)((function(e){var t=e.avatar,n=e.name,r=e.onLogout;return Object(f.jsxs)("div",{className:S.a.Container,children:[Object(f.jsx)("img",{src:t,alt:"",width:"42",height:"42",className:S.a.Avatar}),Object(f.jsxs)("h2",{className:S.a.UserName,children:["Welcome ",n]}),Object(f.jsx)("button",{type:"button",onClick:r,className:S.a.LogOutBtn,children:Object(f.jsx)("h3",{children:"Logout"})})]})})),F=n(21),T=n.n(F),q=function(){return Object(f.jsxs)("div",{className:T.a.Container,children:[Object(f.jsx)(C.b,{to:"/register",exact:!0,className:T.a.Link,activeClassName:T.a.LinkActive,children:Object(f.jsx)("h2",{className:T.a.Registration,children:"Registration"})}),Object(f.jsx)(C.b,{to:"/login",exact:!0,className:T.a.Link,activeClassName:T.a.LinkActive,children:Object(f.jsx)("h2",{children:"Login"})})]})},w=n(40),H=n.n(w),B=(n.p,Object(m.b)((function(e){return{isAuthenticated:A(e)}}),null)((function(e){var t=e.isAuthenticated;return Object(f.jsx)("div",{className:H.a.Container,children:Object(f.jsxs)("header",{className:H.a.Header,children:[Object(f.jsx)(L,{}),t?Object(f.jsx)(R,{}):Object(f.jsx)(q,{})]})})}))),z=(n(88),n(89),n(6)),D=n(19),P=n(31),M=Object(m.b)((function(e){return{isAuthenticated:A(e)}}),null)((function(e){var t=e.component,n=e.isAuthenticated,r=e.reDirectTo,c=Object(P.a)(e,["component","isAuthenticated","reDirectTo"]);return Object(f.jsx)(z.b,Object(D.a)(Object(D.a)({},c),{},{render:function(e){return n?Object(f.jsx)(t,Object(D.a)({},e)):Object(f.jsx)(z.a,{to:r})}}))})),J=Object(m.b)((function(e){return{isAuthenticated:A(e)}}),null)((function(e){var t=e.component,n=e.isAuthenticated,r=e.reDirectTo,c=Object(P.a)(e,["component","isAuthenticated","reDirectTo"]);return Object(f.jsx)(z.b,Object(D.a)(Object(D.a)({},c),{},{render:function(e){return n&&c.restricted?Object(f.jsx)(z.a,{to:r}):Object(f.jsx)(t,Object(D.a)({},e))}}))})),G=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,142))})),W=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,136))})),X=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,137))})),I=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.bind(null,139))})),K=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.onRefreshUser()}},{key:"render",value:function(){return Object(f.jsxs)(v,{children:[Object(f.jsx)(B,{}),Object(f.jsx)(u.Suspense,{fallback:Object(f.jsx)("h1",{children:"Loading..."}),children:Object(f.jsxs)(z.d,{children:[Object(f.jsx)(J,{exact:!0,path:"/",component:G}),Object(f.jsx)(J,{path:"/register",restricted:!0,component:X,reDirectTo:"/contacts"}),Object(f.jsx)(J,{path:"/login",restricted:!0,component:W,reDirectTo:"/contacts"}),Object(f.jsx)(M,{exact:!0,path:"/contacts",component:I,reDirectTo:"/login"})]})})]})}}]),n}(u.Component),Q={onRefreshUser:N.a.getCurrentUser},V=Object(m.b)(null,Q)(K),Y=n(30),Z=n(2),$=n(3),ee=n(7),te=n(10),ne=Object(Z.c)([],(r={},Object($.a)(r,te.j,(function(e,t){return t.payload})),Object($.a)(r,te.c,(function(e,t){var n=t.payload;return[].concat(Object(Y.a)(e),[n])})),Object($.a)(r,te.g,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),re=Object(Z.c)("",Object($.a)({},te.d,(function(e,t){return t.payload}))),ce=Object(Z.c)(!1,(c={},Object($.a)(c,te.b,(function(){return!0})),Object($.a)(c,te.c,(function(){return!1})),Object($.a)(c,te.a,(function(){return!1})),Object($.a)(c,te.f,(function(){return!0})),Object($.a)(c,te.g,(function(){return!1})),Object($.a)(c,te.e,(function(){return!1})),Object($.a)(c,te.i,(function(){return!0})),Object($.a)(c,te.j,(function(){return!1})),Object($.a)(c,te.h,(function(){return!1})),c)),ae=Object(Z.c)(null,{}),oe=Object(ee.c)({items:ne,filter:re,loading:ce,error:ae}),se=n(17),ie=n(32),ue=n.n(ie),be=n(55),le=n.n(be),je=n(4),de={name:null,email:null},Oe=Object(Z.c)(de,(a={},Object($.a)(a,je.a.registerSuccess,(function(e,t){return t.payload.user})),Object($.a)(a,je.a.loginSuccess,(function(e,t){return t.payload.user})),Object($.a)(a,je.a.logoutSuccess,(function(){return de})),Object($.a)(a,je.a.getCurrentUserSuccess,(function(e,t){return t.payload})),a)),pe=Object(Z.c)(null,(o={},Object($.a)(o,je.a.registerSuccess,(function(e,t){return t.payload.token})),Object($.a)(o,je.a.loginSuccess,(function(e,t){return t.payload.token})),Object($.a)(o,je.a.logoutSuccess,(function(e,t){t.payload;return null})),o)),he=function(e,t){return t.payload},ge=Object(Z.c)(!1,(s={},Object($.a)(s,je.a.registerError,he),Object($.a)(s,je.a.loginError,he),Object($.a)(s,je.a.logoutError,he),Object($.a)(s,je.a.getCurrentUserError,he),s)),fe=Object(Z.c)(!1,(i={},Object($.a)(i,je.a.registerSuccess,(function(){return!0})),Object($.a)(i,je.a.loginSuccess,(function(){return!0})),Object($.a)(i,je.a.getCurrentUserSuccess,(function(){return!0})),Object($.a)(i,je.a.registerError,(function(){return!1})),Object($.a)(i,je.a.loginError,(function(){return!1})),Object($.a)(i,je.a.getCurrentUserError,(function(){return!1})),Object($.a)(i,je.a.logoutSuccess,(function(){return!1})),i)),ve=Object(ee.c)({user:Oe,isAuthenticated:fe,token:pe,error:ge}),_e=(ue.a,ue.a,[].concat(Object(Y.a)(Object(Z.d)({serializableCheck:{ignoredActions:[se.a,se.f,se.b,se.c,se.d,se.e]}})),[le.a])),xe={key:"auth",storage:ue.a,whitelist:["token"]},Ce=Object(Z.a)({reducer:{auth:Object(se.g)(xe,ve),contacts:oe},middleware:_e,devTools:!1}),me={store:Ce,persistor:Object(se.h)(Ce)},Ae=n(56);l.a.render(Object(f.jsx)(m.a,{store:me.store,children:Object(f.jsx)(Ae.a,{loading:"Loading",persistor:me.persistor,children:Object(f.jsx)(C.a,{children:Object(f.jsx)(V,{})})})}),document.querySelector("#root"))}},[[92,2,3]]]);
//# sourceMappingURL=main.d79a591b.chunk.js.map